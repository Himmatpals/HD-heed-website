<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HD HeeD – Outreach & Follow-up Dashboard</title>
  <meta name="description" content="HD HeeD outreach emails and NDIS weekly follow-up board for Support Coordinators & Plan Managers." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --ink: #e8edff;
      --ink-2: #cfe0ff;
      --muted: #a8b6e8;
      --bg: #0b0f1a;
      --card: #10172a;
      --panel: #10172a;
      --line: #243153;
      --text: #e8edff;
      --ring: rgba(174, 230, 255, .35);
      --radius: 18px;
      --shadow: 0 28px 110px rgba(0, 0, 0, .55);
      --alert-red: #ff5d5d;
      --brand: #ffc107;
      --brand-dark: #e0b200;
      --good: #31d0aa;
      --warn: #ffd95c;
      --danger: #ff5d5d;
      --font-base: 16px;
      --font-family: 'Inter', system-ui, Arial, sans-serif;
    }
    [data-theme="light"] {
      --ink: #0f172a;
      --ink-2: #334155;
      --muted: #64748b;
      --bg: #f8fafc;
      --card: #ffffff;
      --panel: #f8fafc;
      --line: #e5e7eb;
      --text: #0f172a;
      --ring: rgba(107, 70, 255, .35);
      --shadow: 0 10px 30px rgba(15, 23, 42, .08);
      --alert-red: #ff3333;
      --brand: #6b46ff;
      --brand-dark: #4f27ff;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; font-family: var(--font-family); font-size: var(--font-base); line-height: 1.6; }
    body { background: radial-gradient(1200px 1200px at 80% -200px, #122048 0%, var(--bg) 42%, var(--bg) 100%); color: var(--text); transition: all 0.3s ease; }

    /* Top nav */
    .nav-bar {
      position: sticky; top: 0; z-index: 20; background: linear-gradient(180deg, var(--panel), var(--bg)); border-bottom: 1px solid var(--line);
      padding: 1.2rem 1.5rem; display: flex; gap: 1.2rem; align-items: center; box-shadow: var(--shadow);
      font-weight: 600; letter-spacing: 0.02em;
    }
    .nav-bar .logo {
      width: 3rem; height: 3rem; border-radius: 0.8rem;
      background: linear-gradient(135deg, var(--warn), #ffe78f);
      box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.35);
    }
    .nav-bar a {
      font-weight: 800; font-size: 1.1rem; color: var(--text); text-decoration: none; padding: 0.6rem 1rem; border-radius: 0.75rem;
      transition: background 0.3s ease, color 0.3s ease, transform 0.2s ease;
    }
    .nav-bar a.active { background: var(--brand); color: #2a2100; transform: translateY(-2px); }
    .nav-bar a:hover { background: rgba(255, 209, 64, 0.15); transform: translateY(-2px); }
    .theme-toggle {
      margin-left: auto; background: none; border: none; font-size: 1.2rem; cursor: pointer; color: var(--muted); transition: transform 0.3s ease;
    }
    .theme-toggle:hover { transform: rotate(15deg); }

    /* Only nav links pulse (hint to switch sections) */
    @keyframes pulseHeading {
      0% { transform: scale(1); text-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
      50% { transform: scale(1.05); text-shadow: 0 0 20px rgba(255, 193, 7, 0.7); }
      100% { transform: scale(1); text-shadow: 0 0 10px rgba(255, 193, 7, 0.5); }
    }
    .nav-bar a.pulse {
      background: linear-gradient(90deg, var(--brand), var(--warn));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      animation: pulseHeading 3s ease-in-out infinite;
    }

    .container { max-width: 1280px; margin: 2rem auto; padding: 0 1.5rem; }
    .email-section, .board-section { display: none; transition: opacity 0.5s ease; }
    .email-section.active, .board-section.active { display: block; opacity: 1; }
    .email-section .wrap, .board-section .wrap { padding: 1.5rem; }

    /* Hero headers */
    .email-section .hero, .board-section .head {
      display: flex; align-items: center; gap: 1rem; padding: 1.2rem 1.4rem;
      background: linear-gradient(180deg, var(--panel), var(--bg)); border-bottom: 1px solid var(--line);
      border-radius: var(--radius) var(--radius) 0 0; box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
    }
    .email-section .logo, .board-section .badge {
      width: 3.2rem; height: 3.2rem; border-radius: 0.9rem; display: grid; place-items: center;
      font-weight: 900; color: #2a2100; background: linear-gradient(135deg, var(--warn), #ffe78f);
      box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.2);
    }
    .email-section h1, .board-section .title {
      margin: 0; font-weight: 900; font-size: 2.6rem;
      letter-spacing: -0.03em;
      background: linear-gradient(90deg, var(--brand), var(--warn));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      animation: none; text-shadow: none;
    }
    .email-section .sub, .board-section .sub {
      font-size: 1rem; color: var(--ink-2); font-weight: 500; letter-spacing: 0.01em;
    }

    /* ===== Outreach Emails (roomier, elegant) ===== */
    .email-section .bar {
      display: flex; flex-wrap: wrap; gap: 0.6rem; margin: 1rem 0 1.5rem;
    }
    .email-section .badge {
      font-size: 0.85rem; color: #2a2100; background: var(--warn); padding: 0.55rem 0.9rem;
      border-radius: 999px; font-weight: 800; letter-spacing: 0.02em; box-shadow: 0 6px 18px rgba(0,0,0,.25);
    }

    .email-grid {
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 1.2rem;
      margin-top: 1rem;
    }
    /* Feature card spans full width */
    .email-feature {
      grid-column: 1 / -1;
      background: radial-gradient(800px 400px at 10% -50%, rgba(255,209,64,.15), transparent 60%) , linear-gradient(180deg, var(--panel), var(--bg));
      border: 1px solid var(--line); border-radius: var(--radius);
      padding: 1.4rem; box-shadow: var(--shadow);
    }
    /* Email cards: bigger, comfy */
    .email-card {
      grid-column: span 6;
      background: linear-gradient(180deg, var(--card), var(--bg));
      border: 1px solid var(--line); border-radius: 16px;
      padding: 1.2rem 1.2rem 1rem; box-shadow: 0 24px 80px rgba(0,0,0,.45);
    }
    .email-card .eyebrow {
      font-size: 0.72rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--muted);
      font-weight: 800; margin-bottom: 0.25rem; opacity: .9;
    }
    .email-card .title {
      margin: 0 0 .8rem 0; font-size: 1.45rem; font-weight: 900; letter-spacing: -0.01em; color: var(--warn);
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
    }
    .email-card .row {
      display: grid; grid-template-columns: 1fr; gap: .65rem;
    }
    .email-card label {
      display: block; font-size: 0.8rem; font-weight: 800; color: var(--ink-2); letter-spacing: 0.02em;
    }
    .email-card input[type="text"], .email-card textarea {
      width: 100%; border: 1px solid var(--line); border-radius: 12px;
      background: rgba(255,255,255,.03); color: var(--text); padding: 0.85rem 1rem; font: inherit; font-size: 1rem;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.2);
      transition: border-color 0.25s ease, box-shadow 0.25s ease;
    }
    .email-card input[type="text"]:focus, .email-card textarea:focus {
      outline: none; border-color: var(--brand); box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.25);
    }
    .email-card textarea { min-height: 18rem; line-height: 1.55; white-space: pre-wrap; resize: vertical; }
    .email-card .actions { display: flex; flex-wrap: wrap; gap: 0.6rem; margin-top: 0.7rem; }
    .btn {
      appearance: none; border: 1px solid var(--line); background: rgba(255,255,255,.05); color: var(--text);
      padding: 0.72rem 1rem; border-radius: 0.75rem; font-weight: 800; font-size: 0.95rem; cursor: pointer;
      transition: background 0.25s ease, transform 0.18s ease, box-shadow 0.25s ease;
    }
    .btn.brand { background: var(--brand); color: #2a2100; border-color: var(--brand-dark); box-shadow: 0 6px 20px rgba(255, 193, 7, 0.32); }
    .btn.secondary { background: rgba(255, 209, 64, 0.1); color: var(--warn); border-color: var(--warn); }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 22px rgba(0, 0, 0, 0.35); }
    .btn:active { transform: translateY(0); }

    .email-icons {
      display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: .6rem; margin-top: .8rem;
    }
    .email-icons .chip {
      display: flex; gap: .5rem; align-items: center;
      background: rgba(255,255,255,.04); border: 1px dashed var(--line); border-radius: 999px; padding: .5rem .75rem;
      font-weight: 700; color: var(--ink-2); font-size: .9rem;
    }

    .email-section .footer { margin: 2rem 0 3rem; color: var(--muted); font-size: 0.9rem; text-align: center; opacity: 0.9; }

    /* Referral alert (no pulsation) */
    .paper-referral-alert {
      background: linear-gradient(180deg, #351616, #2a0f0f); border: 2px solid var(--alert-red); border-radius: var(--radius);
      padding: 1.2rem 1.5rem; margin: 0 0 1.8rem 0; text-align: center; box-shadow: 0 4px 12px rgba(255, 51, 51, 0.2), inset 0 1px 0 rgba(255, 51, 51, 0.1);
      animation: none;
    }
    .paper-referral-alert h3 { color: var(--alert-red); margin-bottom: .4rem; font-weight: 900; font-size: 1.2rem; }
    .paper-referral-link { display: inline-block; background: var(--alert-red); color: #fff !important; padding: 0.8rem 1.5rem; border-radius: 0.7rem; font-weight: 800; }

    /* ===== Board container ===== */
    .board-section .shell {
      max-width: 1200px; margin: 0 auto; background: linear-gradient(180deg, var(--panel), var(--bg));
      border: 1px solid var(--line); border-radius: var(--radius); box-shadow: var(--shadow); overflow: hidden;
    }
    .board-section .head { background: linear-gradient(180deg, var(--panel), var(--bg)); }
    .board-section .toolbar { margin-left: auto; display: flex; gap: 0.6rem; align-items: center; flex-wrap: wrap; }
    .board-section .pill {
      border: 1px solid var(--line); background: rgba(255, 255, 255, 0.05); border-radius: 999px;
      padding: 0.4rem 0.7rem; font-size: 0.8rem; color: var(--text); font-weight: 600;
    }
    .board-section .status { font-size: 0.85rem; color: var(--muted); font-weight: 500; }

    /* ===== Table compact layout ===== */
    .board-section .board {
      border: 1px solid var(--line); background: rgba(255, 255, 255, 0.02); border-radius: 1rem; overflow: hidden;
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .board-section table {
      border-collapse: separate; border-spacing: 0; width: 100%;
      table-layout: fixed; /* keep widths fixed so no overflow */
      font-size: 0.95rem;
    }
    .board-section th, .board-section td {
      border-bottom: 1px solid var(--line); border-right: 1px solid var(--line); padding: 0.6rem; vertical-align: middle;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .board-section th:first-child, .board-section td:first-child { border-left: 1px solid var(--line); }
    .board-section thead th {
      position: sticky; top: 0; background: linear-gradient(180deg, var(--panel), var(--bg)); color: var(--text); font-weight: 900; font-size: 1rem; z-index: 10;
    }
    .board-section tbody th {
      background: linear-gradient(180deg, var(--panel), var(--bg)); text-align: left; font-weight: 800; min-width: 300px;
    }
    .board-section .lead { display: flex; flex-direction: column; gap: 0.3rem; }
    .board-section .lead .name { font-weight: 900; font-size: 1.05rem; color: var(--warn); }
    .board-section .lead .meta { display: flex; gap: 0.6rem; flex-wrap: wrap; font-size: 0.85rem; color: var(--text); }
    .board-section .lead .meta a { color: #aee6ff; text-decoration: none; border-bottom: 1px dotted rgba(174, 230, 255, .35); padding-bottom: 0.1rem; }

    /* ===== Compact day boxes (fixed-size squares) ===== */
    .board-section tbody th { width: 360px; }             /* Lead column width (desktop) */
    .board-section td { width: 88px; text-align: center; }/* Narrow day columns */

    .board-section .cell{
      display:flex; align-items:center; justify-content:center;
      padding:.4rem 0; border: none; background: transparent;
      min-height: 48px; cursor: pointer; transition: transform .15s ease;
    }
    .board-section .cell:hover{ transform: translateY(-2px); }

    /* Hide text/badges so visual size never changes */
    .board-section .cell .preview, .board-section .cell .badge{ display:none; }

    .board-section .cell .box{
      width: 34px; height: 34px; border-radius: 8px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.05);
      pointer-events: none; /* ensure clicks go to the cell itself */
    }
    .board-section .cell.filled .box{
      background: var(--danger);
      border-color: var(--danger);
      box-shadow: 0 0 0 3px rgba(255,93,93,.25);
    }

    /* Mobile fit: smaller widths and squares (tablet-ish) */
    @media (max-width: 820px){
      .nav-bar { padding: 1rem; gap: 0.8rem; }
      .nav-bar a { font-size: 1rem; padding: 0.5rem 0.8rem; }
      .email-section h1, .board-section .title { font-size: 2.1rem; }
      .board-section thead th { font-size: .9rem; }
      .board-section tbody th { width: 220px; }
      .board-section td { width: 44px; }
      .board-section .cell{ min-height: 40px; }
      .board-section .cell .box{ width: 24px; height: 24px; border-radius: 6px; }
      /* Allow taps to reach first row if header overlaps by a pixel */
      .board-section thead { pointer-events: none; }
    }

    /* ===== PHONE LAYOUT (full responsive board) ===== */
    @media (max-width: 640px){
      /* Hide header row; we'll show day names per cell */
      .board-section thead { display: none; }

      /* Turn each table row into a card */
      .board-section table { display: block; width: 100%; }
      .board-section tbody { display: block; }
      .board-section tbody tr {
        display: block;
        margin: 0 0 12px 0;
        border: 1px solid var(--line);
        border-radius: 10px;
        background: var(--card);
        box-shadow: 0 8px 22px rgba(0,0,0,.25);
        overflow: hidden;
      }

      /* Lead cell becomes the card header */
      .board-section tbody th {
        display: block;
        width: auto;
        border: none;
        padding: 12px 12px 8px 12px;
        background: linear-gradient(180deg, var(--panel), var(--bg));
      }

      /* Each day becomes its own row with a label on the left and the box on the right */
      .board-section td {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        width: 100%;
        border: none;
        border-top: 1px solid var(--line);
        padding: 10px 12px;
        text-align: left;
        white-space: normal; /* allow wrapping inside notes when previewing in future */
      }

      /* Show day label pulled from data-day attribute we set in JS */
      .board-section td::before {
        content: attr(data-day);
        font-weight: 800;
        color: var(--ink-2);
        letter-spacing: .02em;
      }

      /* Keep the box tappable and big enough */
      .board-section .cell { min-height: 0; padding: 0; }
      .board-section .cell .box { width: 28px; height: 28px; border-radius: 6px; }
    }

    @media (max-width: 480px){
      .board-section tbody th { width: auto; }
      .board-section .cell .box{ width: 26px; height: 26px; }
    }

    /* ===== New anchored POPOVER editor ===== */
    .popover-backdrop {
      position: fixed; inset: 0; background: rgba(0,0,0,.35); backdrop-filter: blur(2px);
      display: none; z-index: 1000;
    }
    .popover {
      position: fixed; /* positioned in JS */
      max-width: min(560px, 94vw);
      background: linear-gradient(180deg, var(--panel), var(--bg));
      border: 1px solid var(--line);
      border-radius: 14px;
      box-shadow: 0 22px 80px rgba(0,0,0,.55), 0 0 0 1px rgba(255,255,255,.04) inset;
      display: none; z-index: 1001;
    }
    .popover .pop-head { display:flex; align-items:center; gap:.6rem; padding:.75rem .9rem; border-bottom:1px solid var(--line); }
    .popover .pop-title { font-weight: 900; font-size: 1rem; flex:1; }
    .popover .pop-close { border: 1px solid var(--line); background: rgba(255,255,255,.05); border-radius: 999px; padding: .35rem .6rem; cursor: pointer; color: var(--text); }
    .popover .pop-body { padding: .9rem; }
    .popover textarea {
      width: 100%; min-height: 200px; max-height: 60vh;
      border: 1px solid var(--line); border-radius: 10px; padding: .8rem;
      background: rgba(255,255,255,.05); color: var(--text);
      resize: vertical; font-family: inherit; font-size: 0.98rem;
      box-shadow: inset 0 1px 3px rgba(0,0,0,.2);
    }
    .popover .pop-foot { display:flex; gap:.5rem; justify-content:flex-end; padding:.75rem .9rem; border-top:1px dashed var(--line); }
    .popover .btn { border: 1px solid var(--line); background: rgba(255,255,255,0.05); color: var(--text); border-radius: 10px; padding: .55rem .9rem; font-weight: 800; font-size: .9rem; cursor: pointer; }
    .popover .btn.primary { background: var(--brand); color: #2a2100; border-color: var(--brand-dark); box-shadow: 0 4px 12px rgba(255, 193, 7, 0.3); }
    .popover:after {
      content:""; position:absolute; width:12px; height:12px; background: linear-gradient(180deg, var(--panel), var(--bg));
      border-left:1px solid var(--line); border-top:1px solid var(--line);
      transform: rotate(45deg);
    }
    @media (max-width: 640px){
      .popover { left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; max-width: 94vw; width: 94vw; }
      .popover:after { display:none; }
      .email-grid { grid-template-columns: 1fr; }
      .email-card { grid-column: 1 / -1; }
    }

    @media print {
      .nav-bar, .board-section .toolbar, .board-section .foot, .popover, .popover-backdrop { display: none !important; }
    }
  </style>
</head>
<body>
  <nav class="nav-bar">
    <div class="logo" aria-hidden="true"></div>
    <a href="#emails" class="nav-link active" data-section="email-section">Outreach Emails</a>
    <a href="#board" class="nav-link" data-section="board-section">Follow-up Board</a>
    <button class="theme-toggle" aria-label="Toggle theme">🌙</button>
  </nav>

  <!-- ===== Outreach Emails (expanded & elegant) ===== -->
  <section class="email-section active">
    <div class="wrap">
      <div class="hero">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>HD HeeD – Outreach Emails (1–4)</h1>
          <div class="sub">Copy-ready subjects and bodies for Support Coordinators & Plan Managers. Use the buttons to copy Subject, Body, or Both.</div>
        </div>
      </div>

      <div class="bar">
        <span class="badge">RN-Led Provider</span>
        <span class="badge">Online Referrals</span>
        <span class="badge">AILR Onboarding</span>
        <span class="badge">Audit-Ready</span>
      </div>

      <div class="paper-referral-alert">
        <h3>📄 Paper-Based Referral Form Available</h3>
        <p>Prefer to use a paper form? Download our printable referral form and email the completed copy to info@hdheed.com.au</p>
        <a href="https://drive.google.com/file/d/1Z3EJ2mycLwNAIDXs2fnIfD8H_wxcSdQx/view?usp=drive_link" class="paper-referral-link" target="_blank">Download Paper Referral Form</a>
      </div>

      <div class="email-grid">
        <!-- Feature banner with quick actions -->
        <div class="email-feature card">
          <div style="display:flex; gap:1rem; align-items:center; justify-content:space-between; flex-wrap:wrap;">
            <div>
              <div style="font-weight:900; font-size:1.4rem; letter-spacing:-.01em; margin-bottom:.35rem; color:var(--warn)">Bulk Tools</div>
              <div style="color:var(--ink-2)">Copy all four emails (subjects + bodies) in one click, then paste into your campaign.</div>
              <div class="email-icons">
                <div class="chip">✅ RN-Led</div>
                <div class="chip">⚙️ Audit-ready</div>
                <div class="chip">⚡ Quick referrals</div>
              </div>
            </div>
            <div>
              <button class="btn brand" onclick="copyAll()">Copy All (Subjects + Bodies)</button>
            </div>
          </div>
        </div>

        <!-- Email 1 -->
        <section class="email-card" id="e1">
          <div class="eyebrow">Email 1</div>
          <h3 class="title">Introduction to HD HeeD</h3>
          <div class="row">
            <label for="s1">Subject</label>
            <input id="s1" type="text" value="Introducing HD HeeD – RN-Led NDIS Provider in Blacktown" />
            <label for="b1">Body</label>
            <textarea id="b1">Hi,

Please let me introduce HD HeeD Pty Ltd, an NDIS-registered provider based in Blacktown. We are an RN-led team, with the skills and systems to deliver safe, professional, and person-centred supports.

We are registered under the following NDIS groups:
• 0104 – High Intensity Daily Personal Activities
• 0107 – Daily Personal Activities
• 0115 – Assistance with Daily Life Tasks in a Group/Shared Living
• 0117 – Development of Daily Living and Life Skills
• 0120 – Household Tasks
• 0125 – Participation in Community, Social and Civic Activities
• 0136 – Group and Centre-Based Activities

At HD HeeD, we keep onboarding simple and organised:
• Visit our website: https://www.hdheed.com.au
• Talk directly to our AI assistant Ella
• Submit a referral using our online referral form or quick referral link: https://www.hdheed.com.au/referral.html
• Or simply reply to this email / email us at info@hdheed.com.au or ndis@hdheed.com.au

We are here to support you and your participants with a streamlined process, strong clinical expertise, and a person-centred approach.

👉 Start a referral today: https://www.hdheed.com.au/referral.html

Kind regards,
Mat Syan
Director – HD HeeD Pty Ltd
📞 02 8630 5500 | ✉️ info@hdheed.com.au</textarea>
            <div class="actions">
              <button class="btn brand" onclick="copySubject('s1')">Copy Subject</button>
              <button class="btn" onclick="copyBody('b1')">Copy Body</button>
              <button class="btn secondary" onclick="copyBoth('s1','b1')">Copy Both</button>
            </div>
          </div>
        </section>

        <!-- Email 2 -->
        <section class="email-card" id="e2">
          <div class="eyebrow">Email 2</div>
          <h3 class="title">Our RN-Led Strength</h3>
          <div class="row">
            <label for="s2">Subject</label>
            <input id="s2" type="text" value="Nursing Expertise at the Core of HD HeeD" />
            <label for="b2">Body</label>
            <textarea id="b2">Hi,

At HD HeeD, we are proud to be a group of Registered Nurses who are extremely confident in our skills and experience. This allows us to provide participants with the highest standard of care, especially when it comes to complex health needs.

We deliver this care under registration group 0104 – High Intensity Daily Personal Activities. This makes our services not only clinically safe and professional, but also a practical and cost-effective option compared to group 0114 (Community Nursing), which is charged at a much higher rate.

By choosing HD HeeD, your participants receive the benefits of RN-level support within the right NDIS registration group, ensuring both quality and value.

👉 Start a referral today: https://www.hdheed.com.au/referral.html

Please also find a paper-based referral form attached that you can complete manually and email back to us at info@hdheed.com.au, if that is your preferred method.

You are always welcome to call us directly on 02 8630 5500 to discuss referrals or participant needs further.

Kind regards,
Mat Syan
Director – HD HeeD Pty Ltd
📞 02 8630 5500 | ✉️ info@hdheed.com.au</textarea>
            <div class="actions">
              <button class="btn brand" onclick="copySubject('s2')">Copy Subject</button>
              <button class="btn" onclick="copyBody('b2')">Copy Body</button>
              <button class="btn secondary" onclick="copyBoth('s2','b2')">Copy Both</button>
            </div>
          </div>
        </section>

        <!-- Email 3 -->
        <section class="email-card" id="e3">
          <div class="eyebrow">Email 3</div>
          <h3 class="title">AILR System</h3>
          <div class="row">
            <label for="s3">Subject</label>
            <input id="s3" type="text" value="Meet AILR – Advanced Intake & Long-form Registration" />
            <label for="b3">Body</label>
            <textarea id="b3">Hi,

One of our key strengths at HD HeeD is our AILR system – Advanced Intake & Long-form Registration.

AILR ensures that most of the participant’s onboarding is completed online, with only a few signature forms returned manually or via email. This makes the process:
• Systematic and organised
• Less paperwork for you and your clients
• Straightforward, convenient, and time-saving

If a participant needs help, we are more than happy to sit with them and complete the AILR together.

👉 You can visit and view our online AILR system here: https://www.hdheed.com.au/ailr.html

When you’re ready to make a referral, you can use our quick online referral form here: https://www.hdheed.com.au/referral.html

For those who prefer, a paper-based referral form can also be emailed back to info@hdheed.com.au. And of course, you’re always welcome to call us directly on 02 8630 5500.

Kind regards,
Mat Syan
Director – HD HeeD Pty Ltd
📞 02 8630 5500 | ✉️ info@hdheed.com.au</textarea>
            <div class="actions">
              <button class="btn brand" onclick="copySubject('s3')">Copy Subject</button>
              <button class="btn" onclick="copyBody('b3')">Copy Body</button>
              <button class="btn secondary" onclick="copyBoth('s3','b3')">Copy Both</button>
            </div>
          </div>
        </section>

        <!-- Email 4 -->
        <section class="email-card" id="e4">
          <div class="eyebrow">Email 4</div>
          <h3 class="title">Easy Online Referrals</h3>
          <div class="row">
            <label for="s4">Subject</label>
            <input id="s4" type="text" value="Referrals Made Simple with HD HeeD" />
            <label for="b4">Body</label>
            <textarea id="b4">Hi,

At HD HeeD, we understand how valuable your time is. That’s why we’ve created a quick and hassle-free online referral system to make things easier for you and your participants.

You can submit a referral in just a few minutes using our secure portal:
👉 https://www.hdheed.com.au/referral.html

The system is streamlined, convenient, and fully audit-ready, ensuring participants are onboarded faster and without unnecessary delays.

Alternatively, we are also attaching a paper-based referral form. You can complete it, scan it, and email it back to us at info@hdheed.com.au if that is your preferred way of making a referral.

Whether you choose online or paper, we’ll make sure the onboarding is handled quickly, professionally, and with minimal hassle.

Kind regards,
Mat Syan
Director – HD HeeD Pty Ltd
📞 02 8630 5500 | ✉️ info@hdheed.com.au</textarea>
            <div class="actions">
              <button class="btn brand" onclick="copySubject('s4')">Copy Subject</button>
              <button class="btn" onclick="copyBody('b4')">Copy Body</button>
              <button class="btn secondary" onclick="copyBoth('s4','b4')">Copy Both</button>
            </div>
          </div>
        </section>
      </div>

      <div class="footer">© HD HeeD Pty Ltd • ABN 47 665 228 768 • Blacktown, NSW • Phone: 02 8630 5500 • <a href="mailto:info@hdheed.com.au">info@hdheed.com.au</a></div>
    </div>
  </section>

  <!-- ===== Follow-up Board (compact) ===== -->
  <section class="board-section">
    <div class="shell">
      <div class="head">
        <div class="badge">HD</div>
        <div>
          <div class="title">HD HeeD — NDIS Weekly Follow-up Board</div>
          <div class="sub">Support Coordinators & Plan Managers • Blacktown & Western Sydney</div>
        </div>
        <div class="toolbar">
          <button id="btnRefresh" class="btn">🔄 Refresh</button>
          <button id="btnSave" class="btn brand">💾 Save changes</button>
          <span id="status" class="status"></span>
          <span class="pill">Shared • Live</span>
        </div>
      </div>

      <div class="wrap">
        <div class="board">
          <table id="board">
            <thead>
              <tr>
                <th style="width:360px">Lead (SC/PM)</th>
                <th>Monday</th><th>Tuesday</th><th>Wednesday</th>
                <th>Thursday</th><th>Friday</th><th>Saturday</th><th>Sunday</th>
              </tr>
            </thead>
            <tbody id="tbody"></tbody>
          </table>
        </div>
        <div class="hint" style="text-align:center; color:var(--muted); margin-top:.8rem; font-size:.9rem;">
          Tap a day square to open the full note. Press <span class="kbd" style="font-family:ui-monospace;">Esc</span> to close. Click <strong>Save changes</strong> to sync.
        </div>
      </div>

      <div class="foot" style="border-top:1px dashed var(--line); padding: .9rem 1.2rem; display:flex; gap:.7rem; align-items:center; justify-content:space-between;">
        <div class="status" id="footStatus">Ready.</div>
        <div class="cleaner">
          <span class="status">Fresh week reset:</span>
          <button id="btnArmClean" class="btn">1) Arm</button>
          <button id="btnDoClean" class="btn" disabled>2) Confirm &amp; wipe</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Floating popover editor -->
  <div id="popBackdrop" class="popover-backdrop" aria-hidden="true"></div>
  <div id="popover" class="popover" role="dialog" aria-modal="true" aria-labelledby="popTitle">
    <div class="pop-head">
      <div id="popTitle" class="pop-title">Edit note</div>
      <button id="popClose" class="pop-close" aria-label="Close">✕</button>
    </div>
    <div class="pop-body">
      <textarea id="popTextarea" placeholder="Type your follow-up…"></textarea>
    </div>
    <div class="pop-foot">
      <button id="popCancel" class="btn">Cancel</button>
      <button id="popSave" class="btn primary">💾 Save</button>
    </div>
  </div>

  <script>
    // Theme Toggle
    const themeToggle = document.querySelector('.theme-toggle');
    themeToggle.addEventListener('click', () => {
      const currentTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', currentTheme);
      themeToggle.textContent = currentTheme === 'dark' ? '☀️' : '🌙';
      localStorage.setItem('theme', currentTheme);
    });
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);
    themeToggle.textContent = savedTheme === 'dark' ? '☀️' : '🌙';

    // Make only top two nav tabs pulse
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach((l, i) => { if (i < 2) l.classList.add('pulse'); });

    // Navigation
    const sections = document.querySelectorAll('.email-section, .board-section');
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        navLinks.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        sections.forEach(s => s.classList.remove('active'));
        document.querySelector(`.${link.dataset.section}`).classList.add('active');
      });
    });

    // Email copy helpers
    async function copyText(text) {
      try { await navigator.clipboard.writeText(text); alert('Copied to clipboard'); }
      catch (e) {
        const ta = document.createElement('textarea'); ta.value = text; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); document.body.removeChild(ta); alert('Copied to clipboard');
      }
    }
    function copySubject(id) { copyText(document.getElementById(id).value); }
    function copyBody(id) { copyText(document.getElementById(id).value); }
    function copyBoth(sId, bId) {
      const s = document.getElementById(sId).value;
      const b = document.getElementById(bId).value;
      copyText('Subject: ' + s + '\n\n' + b);
    }
    function copyAll() {
      const payload = [
        { n: 'Email 1', s: document.getElementById('s1').value, b: document.getElementById('b1').value },
        { n: 'Email 2', s: document.getElementById('s2').value, b: document.getElementById('b2').value },
        { n: 'Email 3', s: document.getElementById('s3').value, b: document.getElementById('b3').value },
        { n: 'Email 4', s: document.getElementById('s4').value, b: document.getElementById('b4').value },
      ].map(e => `${e.n} — Subject: ${e.s}\n\n${e.b}`).join('\n\n\n------------------------------\n\n');
      copyText(payload);
    }

    // Board Section
    const API = "https://script.google.com/macros/s/AKfycbzwXW3Aabus6brnuawF9QvXX4dpq3MM03jmi4e9rkpiJUs2B9Vo_Qp36ht5BZ7bgbM/exec";
    const CONTACTS = {
      "Taylor McGuiness — Interaction": { phone: "1300 668 123", email: "info@interactionservices.org", website: "https://interactionservices.org" },
      "Assist Disability Services — SSC": { phone: "1800 955 806", email: "enquiries@assistservices.com.au", website: "https://assistservices.com.au" },
      "Triniti Care — Support Coord": { phone: "(02) 8319 9433", website: "https://triniticare.com.au" },
      "MD Home Care — SSC": { phone: "08 6386 9999", website: "https://mdhomecare.com.au" },
      "Claremont Care — SC/PM": { phone: "0416 873 319", website: "https://claremontcare.com.au" },
      "BRK Plan Management": { phone: "0414 704 279", email: "meet@brkpm.com.au", website: "http://brkpm.com.au" },
      "Axial Plan Management": { phone: "0416 428 261", email: "hello@axialplanmanagement.com.au", website: "https://axialplanmanagement.com.au" },
      "NADO Plan Management": { phone: "1300 738 229", website: "https://nado.org.au" },
      "Yahweh Care — PM": { phone: "(02) 8325 1616", email: "info@yahwehcare.com.au", website: "https://yahwehcare.com.au" }
    };
    let ROWS = [];
    let edits = new Map();
    let activeCellId = null;

    function $(id) { return document.getElementById(id); }
    function setStatus(msg, dim = false) {
      $("status").textContent = msg || "";
      $("footStatus").textContent = msg || "Ready.";
    }
    function mail(link) {
      const a = document.createElement("a");
      a.href = "mailto:" + link; a.textContent = "📧 " + link; return a;
    }
    function tel(link) {
      const a = document.createElement("a");
      a.href = "tel:" + (link || "").replace(/[^0-9+]/g, "");
      a.textContent = "☎ " + link; return a;
    }
    function formatLeadCell(name) {
      const wrap = document.createElement("div"); wrap.className = "lead";
      const nm = document.createElement("div"); nm.className = "name"; nm.textContent = name || "—"; wrap.appendChild(nm);
      const info = CONTACTS[name];
      if (info) {
        const meta = document.createElement("div"); meta.className = "meta";
        if (info.email) meta.appendChild(mail(info.email));
        if (info.phone) meta.appendChild(tel(info.phone));
        if (info.website) { const w = document.createElement("a"); w.href = info.website; w.target = "_blank"; w.rel = "noopener"; w.textContent = "🌐 Website"; meta.appendChild(w); }
        wrap.appendChild(meta);
      }
      return wrap;
    }

    // Popover elements
    const popWrap = $("popover");
    const popBackdrop = $("popBackdrop");
    const popTA = $("popTextarea");
    const popTitle = $("popTitle");
    const popClose = $("popClose");
    const popCancel = $("popCancel");
    const popSave = $("popSave");

    // Open popover anchored to a cell
    function openPopover(cellId, title, initial, anchorEl) {
      activeCellId = cellId;
      popTitle.textContent = title || "Edit note";
      popTA.value = initial || "";

      // Show
      popBackdrop.style.display = "block";
      popWrap.style.display = "block";

      // Position near anchor (viewport coords)
      const rect = anchorEl.getBoundingClientRect();
      const margin = 10;
      const popW = Math.min(560, window.innerWidth * 0.94);
      const popH = Math.min(380, window.innerHeight * 0.8);
      popWrap.style.width = popW + "px";

      // Default below the box
      let top = rect.bottom + margin + window.scrollY;
      let left = rect.left + window.scrollX - (popW / 2) + (rect.width / 2);

      // Keep within viewport horizontally
      left = Math.max(window.scrollX + margin, Math.min(left, window.scrollX + window.innerWidth - popW - margin));

      // If not enough space below, flip above
      if (rect.bottom + popH + 2 * margin > window.innerHeight) {
        top = rect.top - popH - margin + window.scrollY;
      }

      popWrap.style.top = top + "px";
      popWrap.style.left = left + "px";
      popWrap.style.transform = "none";

      // Arrow placement
      const arrowSize = 12;
      const anchorCenter = rect.left + rect.width / 2;
      const arrowLeft = Math.max(arrowSize, Math.min(anchorCenter - left - window.scrollX, popW - arrowSize));
      popWrap.style.setProperty("--arrow-left-px", arrowLeft + "px");
      const showBelow = rect.bottom + popH + 20 <= window.innerHeight;
      popWrap.style.setProperty("--arrow-top", showBelow ? "-6px" : "auto");
      popWrap.style.setProperty("--arrow-bottom", showBelow ? "auto" : "-6px");

      // Focus without page jump
      setTimeout(() => { popTA.focus({ preventScroll: true }); }, 0);
    }

    // Enhance the arrow using CSS variables (applied after open)
    (function enhanceArrow(){
      const style = document.createElement('style');
      style.textContent = `
        #popover:after{
          left: var(--arrow-left-px, 24px);
          top: var(--arrow-top, -6px);
          bottom: var(--arrow-bottom, auto);
          transform: rotate(45deg);
          border-left: 1px solid var(--line);
          border-top: 1px solid var(--line);
        }
      `;
      document.head.appendChild(style);
    })();

    function closePopover() {
      popBackdrop.style.display = "none";
      popWrap.style.display = "none";
      activeCellId = null;
    }

    popBackdrop.addEventListener('click', closePopover);
    popClose.addEventListener('click', closePopover);
    popCancel.addEventListener('click', closePopover);

    // Save from popover
    popSave.addEventListener('click', () => {
      if (!activeCellId) return;
      const v = popTA.value || "";
      const el = document.getElementById("cell-" + activeCellId);
      const ta = document.getElementById("ta-" + activeCellId);
      if (ta) ta.value = v;

      el.classList.toggle("empty", !v);
      el.classList.toggle("filled", !!v);
      const bx = el.querySelector(".box");
      if (bx) bx.title = v ? "Filled — click to view/edit" : "Empty — click to add";

      edits.set(activeCellId, v);
      setStatus("Unsaved changes…");
      closePopover();
    });

    // Keyboard: Esc to close, Ctrl/Cmd+Enter to save
    document.addEventListener('keydown', (e) => {
      const open = popWrap.style.display === "block";
      if (!open) return;
      if (e.key === "Escape") { e.preventDefault(); closePopover(); }
      if ((e.ctrlKey || e.metaKey) && e.key === "Enter") { e.preventDefault(); popSave.click(); }
    });

    async function load() {
      try {
        setStatus("Loading…");
        const r = await fetch(API, { method: "GET" });
        if (!r.ok) throw new Error("Could not load. Check the API URL and deployment access is set to 'Anyone'.");
        const data = await r.json();
        ROWS = data;
        buildTable();
        setStatus("Loaded.");
      } catch (err) {
        console.error(err);
        setStatus(err.message || "Load failed.");
        alert(err.message || "Load failed. In Apps Script: Deploy → Web app → Who has access = 'Anyone'.");
      }
    }

    function buildTable() {
      const tb = $("tbody");
      tb.innerHTML = "";
      edits.clear();
      for (let r = 1; r < ROWS.length; r++) {
        const row = ROWS[r];
        const lead = row[0] || "";
        const tr = document.createElement("tr");
        const th = document.createElement("th");
        th.appendChild(formatLeadCell(lead));
        tr.appendChild(th);
        for (let c = 0; c < 7; c++) {
          const id = `${r - 1}_${c}`;
          const td = document.createElement("td");
          const day = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"][c];

          const ta = document.createElement("textarea");
          ta.id = "ta-" + id;
          ta.style.display = "none";
          ta.value = row[c + 1] || "";

          const cell = document.createElement("div");
          cell.className = "cell";
          if (!ta.value) { cell.classList.add("empty"); }
          else { cell.classList.add("filled"); }
          cell.id = "cell-" + id;

          // data attributes for robust event delegation
          cell.dataset.lead = lead;
          cell.dataset.day = day;

          const box = document.createElement("div");
          box.className = "box";
          box.title = ta.value ? "Filled — click to view/edit" : "Empty — click to add";

          cell.appendChild(box);

          // Attach day label to the td for mobile view
          td.setAttribute("data-day", day);

          td.appendChild(cell);
          td.appendChild(ta);
          tr.appendChild(td);
        }
        tb.appendChild(tr);
      }
    }

    // One listener for all day cells (reliable for all boxes)
    document.getElementById("tbody").addEventListener("click", (e) => {
      const cell = e.target.closest(".cell");
      if (!cell) return;

      const id = cell.id.replace("cell-", "");
      const ta = document.getElementById("ta-" + id);
      const lead = cell.dataset.lead || "";
      const day = cell.dataset.day || "";

      openPopover(id, `${lead} — ${day}`, ta ? ta.value : "", cell);
    });

    async function save() {
      if (edits.size === 0) { setStatus("No changes to save."); return; }
      try {
        setStatus("Saving…");
        const rows = [];
        edits.forEach((value, key) => { const [ri, ci] = key.split("_").map(Number); rows.push({ rowIndex: ri, colIndex: ci, value }); });
        const resp = await fetch(API, { method: "POST", headers: { "Content-Type": "text/plain" }, body: JSON.stringify({ rows }) });
        const txt = await resp.text();
        let ok = null; try { ok = JSON.parse(txt); } catch (e) {}
        if (!resp.ok || !ok || !ok.ok) throw new Error(`Save failed (status ${resp.status}): ${txt.substring(0, 200)}`);
        setStatus("Saved.");
        edits.clear();
      } catch (err) {
        console.error(err);
        setStatus("Save failed.");
        alert(err.message || "Save failed. In Apps Script: Deploy → Web app → use the /exec URL and set 'Anyone'.");
      }
    }

    $("btnRefresh").addEventListener("click", load);
    $("btnSave").addEventListener("click", save);

    // Cleaner
    let armTimeout = null;
    $("btnArmClean").addEventListener("click", () => {
      if (armTimeout) clearTimeout(armTimeout);
      $("btnDoClean").disabled = false;
      $("btnArmClean").textContent = "Armed (8s)…";
      setStatus("Cleanup armed — press Confirm to wipe all notes (names stay).");
      armTimeout = setTimeout(() => {
        $("btnDoClean").disabled = true;
        $("btnArmClean").textContent = "1) Arm";
        setStatus("Cleanup disarmed.");
      }, 8000);
    });

    $("btnDoClean").addEventListener("click", async () => {
      if ($("btnDoClean").disabled) return;
      const updates = [];
      for (let r = 1; r < ROWS.length; r++) {
        for (let c = 0; c < 7; c++) {
          const id = `${r - 1}_${c}`;
          const el = document.getElementById("cell-" + id);
          const ta = document.getElementById("ta-" + id);
          if (ta && (ta.value !== "" || el.classList.contains("empty") === false)) {
            ta.value = "";
            if (el) {
              el.classList.add("empty");
              el.classList.remove("filled");
              const bx = el.querySelector(".box"); if (bx) bx.title = "Empty — click to add";
            }
            edits.set(id, "");
            updates.push({ rowIndex: r - 1, colIndex: c, value: "" });
          }
        }
      }
      if (armTimeout) clearTimeout(armTimeout);
      $("btnDoClean").disabled = true;
      $("btnArmClean").textContent = "1) Arm";
      if (updates.length === 0) { setStatus("Nothing to clear."); return; }
      try {
        setStatus("Wiping all notes…");
        const resp = await fetch(API, { method: "POST", headers: { "Content-Type": "text/plain" }, body: JSON.stringify({ rows: updates }) });
        const txt2 = await resp.text();
        let ok2 = null; try { ok2 = JSON.parse(txt2); } catch (e) {}
        if (!resp.ok || !ok2 || !ok2.ok) throw new Error(`Cleanup save failed (status ${resp.status}): ${txt2.substring(0, 200)}`);
        edits.clear();
        setStatus("All notes cleared. Fresh week ready ✅");
      } catch (err) {
        console.error(err);
        setStatus("Cleanup failed.");
        alert(err.message || "Cleanup failed. Check Web App permissions or try again.");
      }
    });

    // Initial load
    load();
  </script>
</body>
</html>
```

