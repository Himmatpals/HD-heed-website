<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AILR — Mobile Onboarding | HD HeeD</title>
<link rel="icon" href="images/favicon.ico" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet" />
<meta name="theme-color" content="#512b8a" />

<style>
  :root{
    --ink:#0b1220; --muted:#667189; --bg:#0f1426; --panel:#0b1022; --line:#273357;
    --card:#10172a; --chip:#0e1630; --accent:#ffc107; --brand:#5b3aa6; --ok:#22c55e;
    --tap:60px; /* min tap height on mobile */
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
    background: radial-gradient(120% 120% at 80% -10%, #1a2244, #0b1022), #0b1022; color:#e8edff;
  }
  a{color:#9ec5ff;text-decoration:none}
  img{max-width:100%; display:block}

  /* Header */
  header{position:sticky; top:0; z-index:30; background:rgba(10,14,30,.75); backdrop-filter: blur(8px); border-bottom:1px solid rgba(255,255,255,.08)}
  header .inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:12px 14px}
  .logo{display:flex; gap:10px; align-items:center}
  .logo img{width:40px; height:40px; border-radius:10px; object-fit:cover}
  .tt{font-weight:900}
  .crumb{font-size:12px; color:#b9c6ff}

  /* Wizard shell */
  .wrap{max-width:760px; margin:0 auto; padding:14px}
  .panel{background:linear-gradient(180deg,#10172a,#0b1022); border:1px solid var(--line); border-radius:16px; box-shadow:0 22px 100px rgba(0,0,0,.45)}
  .head{display:grid; gap:10px; padding:14px}
  .toprow{display:flex; align-items:center; gap:12px}
  .meter{height:10px; border-radius:999px; background:#1a2446; overflow:hidden}
  .meter>div{height:100%; width:0%; background:linear-gradient(90deg,#a78bfa,#60a5fa)}

  /* Portrait */
  .portrait{display:flex; justify-content:center; padding:8px 14px 0}
  .portrait img{width:min(280px,80vw); border-radius:18px; filter:drop-shadow(0 18px 40px rgba(0,0,0,.45))}

  /* Question */
  .qbox{padding:10px 14px 2px}
  .q{font-size:22px; line-height:1.35; font-weight:900}
  .hint{color:#c9d5ff; opacity:.85; font-size:13px}

  /* Options (KBC-style cards) */
  .opts{display:grid; gap:10px; padding:12px 14px}
  .opt{
    display:flex; align-items:center; gap:12px; padding:14px; border-radius:14px;
    border:1px solid var(--line); background:linear-gradient(180deg,#0f1735,#0b112a);
    min-height:var(--tap); cursor:pointer; text-align:left;
  }
  .opt:active{transform:translateY(1px)}
  .opt .k{font-weight:900; color:#ffe28f; min-width:28px}
  .opt .t{font-weight:800}
  .opt img{width:44px; height:44px; border-radius:10px; object-fit:cover; flex:0 0 auto}
  .opt[aria-pressed="true"]{outline:3px solid #c7d2fe; border-color:#93c5fd}
  .opt.ghost{border:1px dashed #3a4a7a; background:#0b1226}

  /* Type-it box */
  .inline{padding:0 14px 6px}
  .inline .ibox{
    border:1px solid var(--line); background:#0d1636; border-radius:14px; padding:12px; display:grid; gap:6px
  }
  .ibox label{font-weight:800; font-size:14px}
  .ibox input, .ibox textarea, .ibox select{
    width:100%; padding:12px; border-radius:12px; border:1px solid #2a3b68; background:#0f1b3b; color:#e7ebff; font:inherit
  }
  .ibox textarea{min-height:110px}

  /* Sticky nav */
  .nav{
    position:sticky; bottom:0; z-index:25; padding:12px; background:linear-gradient(180deg,transparent, rgba(7,10,22,.85) 22%, rgba(7,10,22,.95));
    display:flex; gap:8px; justify-content:space-between
  }
  .btn{
    appearance:none; border:1px solid #40508a; background:#0e1636; color:#e7ebff;
    padding:14px 16px; border-radius:12px; font-weight:900; cursor:pointer; min-height:var(--tap); flex:1 1 50%;
  }
  .btn.primary{background:var(--accent); color:#251a00; border-color:#e0b702}
  .btn.safe{background:#16a34a; border-color:#0f7f36}
  .btn:disabled{opacity:.6; cursor:not-allowed}

  /* Review */
  .review{padding:12px 14px 2px}
  .rblk{border:1px solid var(--line); background:#0e152f; border-radius:14px; padding:12px; margin-bottom:10px}
  .rblk h3{margin:0 0 6px 0; font-size:16px}
  .row{display:flex; gap:8px; justify-content:space-between; font-size:14px}
  .row .k{color:#cbd5ff}
  .row .v{color:#fff}

  /* Desktop sweet spot */
  @media (min-width:900px){
    .wrap{padding:28px 16px}
    .panel{border-radius:18px}
    .q{font-size:24px}
    .opt img{width:48px;height:48px}
  }

  /* iOS zoom fix */
  input,select,textarea{font-size:16px}
</style>
</head>
<body>
<header>
  <div class="inner">
    <div class="logo">
      <img src="images/logo.png" alt="HD HeeD"/>
      <div>
        <div class="tt">HD HeeD — AILR (Mobile)</div>
        <div class="crumb">Comprehensive NDIS onboarding</div>
      </div>
    </div>
    <div class="crumb" id="saveState">Draft saved</div>
  </div>
</header>

<main class="wrap">
  <div class="panel" id="wizard">
    <div class="head">
      <div class="toprow">
        <div class="crumb">Step <span id="stepNow">1</span>/<span id="stepTotal">12</span></div>
        <div class="meter" style="flex:1"><div id="meterBar"></div></div>
      </div>
    </div>

    <div class="portrait"><img id="portrait" src="images/ella/ella-default.png" alt="Assistant portrait"/></div>

    <div class="qbox">
      <div class="q" id="q">…</div>
      <div class="hint" id="qh"></div>
    </div>

    <div class="opts" id="opts"></div>

    <div class="inline" id="inlineBox" hidden>
      <div class="ibox">
        <label id="inlineLabel">Type it instead (optional)</label>
        <input id="inlineInput" placeholder="Type your answer here" />
        <button class="btn" id="inlineSave" type="button">Save typed answer</button>
      </div>
    </div>

    <div class="review" id="review" hidden></div>

    <div class="nav">
      <button class="btn" id="backBtn" type="button">Back</button>
      <button class="btn primary" id="nextBtn" type="button">Next</button>
    </div>
  </div>

  <div style="text-align:center; color:#aab6ff; font-size:12px; margin-top:10px">
    You can close this page anytime — your draft is saved on this device.
  </div>
</main>

<footer style="text-align:center; color:#8ea5ff; font-size:12px; padding:18px 0">
  © 2025 HD HeeD • <a href="privacy.html">Privacy</a> • <a href="index.html">Home</a>
</footer>

<script>
(function(){
  // ===== Config & assets =====
  const FS_ENDPOINT = "https://formspree.io/f/xvgrkkjn";
  const STORAGE_KEY = "hdheed_ailr_mobile_v2";
  const ELLA_IMAGES = {
    default:"images/ella/ella-default.png",
    caller:"images/ella/ella-caller.png",
    consent:"images/ella/ella-consent.png",
    loc:"images/ella/ella-location.png",
    service:"images/ella/ella-service.png",
    rostering:"images/ella/ella-rostering.png",
    pref:"images/ella/ella-preferences.png",
    mgmt:"images/ella/ella-management.png",
    dates:"images/ella/ella-dates.png",
    hrs:"images/ella/ella-hours.png",
    risk_beh:"images/ella/ella-risk-beh.png",
    risk_med:"images/ella/ella-risk-med.png",
    risk_int:"images/ella/ella-interpreter.png",
    urgency:"images/ella/ella-urgency.png",
    contact_win:"images/ella/ella-contact-window.png",
    final:"images/ella/ella-summary.png"
  };

  // ===== DOM =====
  const qEl = document.getElementById("q");
  const qhEl = document.getElementById("qh");
  const optsEl = document.getElementById("opts");
  const inlineBox = document.getElementById("inlineBox");
  const inlineInput = document.getElementById("inlineInput");
  const inlineSave = document.getElementById("inlineSave");
  const inlineLabel = document.getElementById("inlineLabel");
  const portrait = document.getElementById("portrait");
  const stepNow = document.getElementById("stepNow");
  const stepTotal = document.getElementById("stepTotal");
  const meterBar = document.getElementById("meterBar");
  const backBtn = document.getElementById("backBtn");
  const nextBtn = document.getElementById("nextBtn");
  const reviewBox = document.getElementById("review");
  const saveState = document.getElementById("saveState");

  // ===== State =====
  let S = {
    i:0,
    // contact
    fullName:"", preferredName:"", dob:"", gender:"", genderFree:"", email:"", phone:"",
    address:"", suburb:"", formRole:"",
    // ndis
    ndisNumber:"", planDates:"", management:"", scName:"", scEmail:"", pmName:"", pmEmail:"", budgets:[],
    // health
    primaryDiagnosis:"", otherConditions:"", clinical:[], behaviours:[], allergies:"", gp:"", healthNotes:"",
    // supports
    supports:[], windows:[], weeklyHours:"", startTiming:"", prefGender:"", access:[], supportNotes:"",
    // comm
    primaryLanguage:"", interpreter:"", interpreterLang:"", cultural:[], communicationNotes:"",
    // goals
    goals:[], goalNotes:"",
    // consent
    consentContact:"", consentCollect:"", filesNote:"",
    ts:null
  };
  try {
    const prev = JSON.parse(localStorage.getItem(STORAGE_KEY)||"null");
    if (prev) S = {...S, ...prev};
  } catch {}

  const save = ()=>{
    S.ts = new Date().toISOString();
    localStorage.setItem(STORAGE_KEY, JSON.stringify(S));
    saveState.textContent = "Draft saved";
  };

  // ===== Steps (mobile-first, one screen each) =====
  // type: 'chips' (single/multi), 'input', 'textarea', 'review', 'contact'
  // multi:true for arrays; image per step; notSure option & typeIt for all where meaningful.
  const steps = [
    {
      id:"who", img:"caller",
      q:"Who’s completing this onboarding?",
      hint:"Pick one. You can type a different role if needed.",
      type:"chips", name:"formRole", multi:false,
      options:["Participant","Family / Carer","Support Coordinator","Health Professional","Prefer not to say"],
      allowType:true, typeLabel:"Type your role"
    },
    {
      id:"name", img:"caller",
      q:"Participant’s full name",
      hint:"Legal name preferred. If unknown, use initials.",
      type:"input", name:"fullName", placeholder:"e.g., Jane Citizen", required:false
    },
    {
      id:"contact", img:"contact_win",
      q:"Best contact details",
      hint:"Add at least one so we can respond.",
      type:"contact"
    },
    {
      id:"loc", img:"loc",
      q:"Where will supports be delivered?",
      hint:"Type suburb and postcode if you know them.",
      type:"input", name:"suburb", placeholder:"e.g., Parramatta, 2150", allowType:true
    },
    {
      id:"supports", img:"service",
      q:"Which supports are you seeking?",
      hint:"Choose all that apply.",
      type:"chips", name:"supports", multi:true,
      options:["Personal care","Community participation","Domestic assistance","Daily living skills","Nursing care at home","Prefer not to say"],
      allowType:true, typeLabel:"Type specific supports"
    },
    {
      id:"windows", img:"rostering",
      q:"Preferred visit windows",
      hint:"Choose all that apply.",
      type:"chips", name:"windows", multi:true,
      options:["Weekday mornings (7–11)","Weekday afternoons (12–4)","Evenings (5–9)","Weekends","Flexible / Not sure"],
      allowType:true, typeLabel:"Type exact windows"
    },
    {
      id:"hours", img:"hrs",
      q:"Approx hours per week",
      type:"chips", name:"weeklyHours", multi:false,
      options:["2–4","5–10","10–20","20+","Not sure"]
    },
    {
      id:"start", img:"urgency",
      q:"When would you like to start?",
      type:"chips", name:"startTiming", multi:false,
      options:["Urgent (24–72h)","Soon (1–2 weeks)","Exploring options","Not sure"]
    },
    {
      id:"mgmt", img:"mgmt",
      q:"How is the NDIS plan managed?",
      type:"chips", name:"management", multi:false,
      options:["NDIA-managed","Plan-managed","Self-managed","Mixed","Not sure"]
    },
    {
      id:"health", img:"risk_med",
      q:"Any clinical needs?",
      hint:"Select all that apply.",
      type:"chips", name:"clinical", multi:true,
      options:["Medication prompts","Webster pack","Wound care","Diabetes support","Seizure care plan","PEG / feeding","Prefer not to say"],
      allowType:true, typeLabel:"Type clinical notes"
    },
    {
      id:"beh", img:"risk_beh",
      q:"Any behaviours of concern?",
      type:"chips", name:"behaviours", multi:true,
      options:["None known","BSP in place","Triggers: loud noise","History of absconding","Prefer not to say"],
      allowType:true, typeLabel:"Type behaviour notes"
    },
    {
      id:"interp", img:"risk_int",
      q:"Interpreter required?",
      type:"chips", name:"interpreter", multi:false,
      options:["Yes","No","Prefer not to say"],
      allowType:true, typeLabel:"Type interpreter language",
      onType:(txt)=>{ S.interpreter="Yes"; S.interpreterLang = txt; }
    },
    {
      id:"culture", img:"pref",
      q:"Any cultural or worker preferences?",
      type:"chips", name:"cultural", multi:true,
      options:["Same-gender worker preferred","Prayer/observance times","Dietary practices","Prefer not to say"],
      allowType:true, typeLabel:"Type preferences",
      extra: { prefGender: ["Female","Male","No preference","Prefer not to say"] }
    },
    {
      id:"notes", img:"service",
      q:"Anything else we should know?",
      type:"textarea", name:"supportNotes", placeholder:"Routines, equipment, exact times, safety notes…"
    },
    {
      id:"consent", img:"consent",
      q:"Consents",
      hint:"These help us coordinate care.",
      type:"chips", name:"consentsCombo", multi:true,
      options:[
        "Consent to contact SC/PM if needed",
        "Consent to collect & securely store details",
        "Prefer not to say"
      ]
    },
    { id:"review", img:"final", q:"Review & Submit", type:"review" }
  ];
  stepTotal.textContent = steps.length;

  // ===== Render =====
  function setPortrait(stepId){
    const map = {
      who:"caller", name:"caller", contact:"contact_win", loc:"loc", supports:"service",
      windows:"rostering", hours:"hrs", start:"urgency", mgmt:"mgmt", health:"risk_med",
      beh:"risk_beh", interp:"risk_int", culture:"pref", notes:"service", consent:"consent", review:"final"
    };
    const key = map[stepId] || "default";
    portrait.src = ELLA_IMAGES[key] || ELLA_IMAGES.default;
    portrait.alt = "Illustration for " + stepId;
  }

  function setMeter(i){
    stepNow.textContent = i+1;
    const pct = Math.round((i)/(steps.length-1)*100);
    meterBar.style.width = pct + "%";
  }

  function chip(label, selected, icon){
    const el = document.createElement("button");
    el.type = "button";
    el.className = "opt";
    el.setAttribute("aria-pressed", String(!!selected));
    el.innerHTML = `<div class="k">${icon||"•"}</div><div class="t">${label}</div>`;
    return el;
  }

  function setOptionActive(btn, active){
    btn.setAttribute("aria-pressed", String(active));
  }

  function render(){
    const step = steps[S.i];
    setPortrait(step.id);
    setMeter(S.i);
    reviewBox.hidden = true;

    qEl.textContent = step.q;
    qhEl.textContent = step.hint || "";
    optsEl.innerHTML = "";
    inlineBox.hidden = true;
    inlineInput.value = "";

    nextBtn.textContent = (S.i === steps.length-1) ? "Submit" : "Next";
    backBtn.disabled = (S.i === 0);

    // TYPES
    if (step.type === "chips"){
      const currentVal = S[step.name];
      const isArray = !!step.multi;

      // primary options
      step.options.forEach((label, idx)=>{
        const btn = chip(label, isArray ? (Array.isArray(currentVal) && currentVal.includes(label)) : currentVal===label, String.fromCharCode(65+idx));
        btn.addEventListener("click", ()=>{
          if (isArray){
            if (!Array.isArray(S[step.name])) S[step.name]=[];
            const i = S[step.name].indexOf(label);
            (i>=0) ? S[step.name].splice(i,1) : S[step.name].push(label);
            setOptionActive(btn, S[step.name].includes(label));
          } else {
            S[step.name] = label;
            // single-select: clear other selected visuals
            optsEl.querySelectorAll(".opt").forEach(n=>setOptionActive(n,false));
            setOptionActive(btn,true);
          }
          save();
        });
        optsEl.appendChild(btn);
      });

      // Type-it
      if (step.allowType){
        inlineBox.hidden = false;
        inlineLabel.textContent = step.typeLabel || "Type it instead (optional)";
        inlineSave.onclick = ()=>{
          const txt = (inlineInput.value||"").trim();
          if (!txt) return;
          if (typeof step.onType === "function"){ step.onType(txt); }
          else {
            if (step.multi){
              if (!Array.isArray(S[step.name])) S[step.name]=[];
              if (!S[step.name].includes(txt)) S[step.name].push(txt);
            } else {
              S[step.name] = txt;
            }
          }
          inlineInput.value = "";
          save();
          // give a tiny visual confirmation
          saveState.textContent = "Saved typed answer";
        };
      }

      // Culture extra: prefGender
      if (step.extra && step.extra.prefGender){
        const sep = document.createElement("div");
        sep.className = "hint";
        sep.style.padding = "0 14px";
        sep.textContent = "Worker gender preference";
        optsEl.appendChild(sep);
        step.extra.prefGender.forEach((label, idx)=>{
          const btn = chip(label, S.prefGender===label, String.fromCharCode(65+idx));
          btn.addEventListener("click", ()=>{
            S.prefGender = label; save();
            optsEl.querySelectorAll(".opt").forEach(n=>n.classList.contains("ghost")||setOptionActive(n,false)); // visual clean for primary block
            setOptionActive(btn,true);
          });
          optsEl.appendChild(btn);
        });
      }
    }
    else if (step.type === "input"){
      inlineBox.hidden = false;
      inlineLabel.textContent = step.placeholder || "Type your answer";
      inlineInput.value = S[step.name] || "";
      inlineSave.onclick = ()=>{
        S[step.name] = (inlineInput.value||"").trim();
        save();
      };
    }
    else if (step.type === "textarea"){
      inlineBox.hidden = false;
      inlineLabel.textContent = step.placeholder || "Type your notes";
      // swap to textarea
      inlineBox.querySelector("input").replaceWith(Object.assign(document.createElement("textarea"),{id:"inlineInput", placeholder:step.placeholder||"Type here"}));
      // rebind
      const ta = inlineBox.querySelector("#inlineInput");
      ta.value = S[step.name] || "";
      inlineSave.onclick = ()=>{
        S[step.name] = (ta.value||"").trim();
        save();
      };
    }
    else if (step.type === "contact"){
      // draw a tiny form in the inline box
      inlineBox.hidden = false;
      inlineLabel.textContent = "Add an email or phone (one is enough)";
      inlineBox.querySelector("input").replaceWith(Object.assign(document.createElement("div"),{id:"contactWrap"}));
      const wrap = inlineBox.querySelector("#contactWrap");
      wrap.className = "grid";
      wrap.style.gap = "8px";
      wrap.innerHTML = `
        <input id="c_email" type="email" placeholder="Email" value="${S.email||""}">
        <input id="c_phone" type="tel" placeholder="Phone" value="${S.phone||""}">
        <input id="c_address" placeholder="Street address" value="${S.address||""}">
      `;
      inlineSave.textContent = "Save contact details";
      inlineSave.onclick = ()=>{
        S.email = document.getElementById("c_email").value.trim();
        S.phone = document.getElementById("c_phone").value.trim();
        S.address = document.getElementById("c_address").value.trim();
        save();
      };
    }
    else if (step.type === "review"){
      buildReview();
      reviewBox.hidden = false;
      nextBtn.textContent = "Submit";
    }
  }

  function buildReview(){
    const b = (title, rows)=>`
      <div class="rblk">
        <h3>${title}</h3>
        ${rows.map(([k,v])=>`<div class="row"><div class="k">${k}</div><div class="v">${fmt(v)}</div></div>`).join("")}
      </div>`;
    const rows = (obj)=>Object.entries(obj);
    const pick = (o, keys)=>keys.map(k=>[k, o[k]||"—"]);

    const identity = [
      ["Full name", S.fullName],["Preferred name", S.preferredName],["Email", S.email],
      ["Phone", S.phone],["Address", S.address],["Suburb/Postcode", S.suburb],["Form role", S.formRole]
    ];
    const ndis = [
      ["NDIS number", S.ndisNumber],["Plan dates", S.planDates],["Management", S.management],
      ["SC", S.scName],["SC email", S.scEmail],["PM", S.pmName],["PM email", S.pmEmail],["Budgets", S.budgets]
    ];
    const health = [
      ["Primary diagnosis", S.primaryDiagnosis],["Other conditions", S.otherConditions],["Clinical needs", S.clinical],
      ["Behaviours", S.behaviours],["Allergies", S.allergies],["GP/Clinic", S.gp],["Health notes", S.healthNotes]
    ];
    const support = [
      ["Supports", S.supports],["Windows", S.windows],["Hours/week", S.weeklyHours],["Start timing", S.startTiming],
      ["Worker gender", S.prefGender],["Access/transport", S.access],["Support notes", S.supportNotes]
    ];
    const comms = [
      ["Primary language", S.primaryLanguage],["Interpreter", S.interpreter],["Interpreter language", S.interpreterLang],
      ["Cultural/worker prefs", S.cultural],["Communication notes", S.communicationNotes]
    ];
    const cons = [
      ["Consent to contact SC/PM", S.consentContact || hasCombo("Consent to contact SC/PM if needed")],
      ["Consent to collect details", S.consentCollect || hasCombo("Consent to collect & securely store details")],
      ["Documents note", S.filesNote]
    ];

    reviewBox.innerHTML = b("Contact & Identity", identity)
      + b("NDIS Details", ndis)
      + b("Health & Safety", health)
      + b("Daily Living & Supports", support)
      + b("Communication & Culture", comms)
      + b("Consents", cons);
  }

  function fmt(v){
    if (Array.isArray(v)) return v.length ? v.join("; ") : "—";
    return v ? String(v) : "—";
  }
  function hasCombo(text){
    // helper for consent combo step
    if (!Array.isArray(S.consentsCombo)) return "—";
    return S.consentsCombo.includes(text) ? "Yes" : "—";
  }

  // ===== Nav =====
  function next(){
    if (S.i < steps.length-1){
      S.i++; save(); render();
    } else {
      submit();
    }
  }
  function back(){ if (S.i>0){ S.i--; save(); render(); } }

  backBtn.addEventListener("click", back);
  nextBtn.addEventListener("click", next);

  // Swipe nav (mobile)
  let touchX = null;
  document.addEventListener("touchstart", e=>{ touchX = e.changedTouches[0].clientX; }, {passive:true});
  document.addEventListener("touchend", e=>{
    if (touchX==null) return;
    const dx = e.changedTouches[0].clientX - touchX;
    if (Math.abs(dx) > 80){
      if (dx > 0) back(); else next();
    }
    touchX = null;
  }, {passive:true});

  // ===== Submit =====
  async function submit(){
    const payload = {
      _subject:"HD HeeD AILR — Mobile onboarding",
      source:"ailr-mobile",
      data:S,
      timestamp:new Date().toISOString()
    };
    nextBtn.disabled = true; backBtn.disabled = true;
    nextBtn.textContent = "Sending…";
    try{
      const r = await fetch(FS_ENDPOINT, {
        method:"POST",
        headers:{ "Content-Type":"application/json", "Accept":"application/json" },
        body: JSON.stringify(payload)
      });
      if (!r.ok) throw new Error("Network");
      nextBtn.textContent = "Sent ✓";
    }catch(e){
      nextBtn.textContent = "Try again";
      nextBtn.disabled = false; backBtn.disabled = false;
      alert("Couldn’t send right now. Your draft is saved; please try again later.");
    }
  }

  // ===== Init =====
  // convert legacy consent step split values if user re-opens
  if (!Array.isArray(S.consentsCombo)) S.consentsCombo = [];
  render();

  // ===== Keyboard shortcuts (desktop)
  document.addEventListener("keydown", (e)=>{
    if (e.key === "ArrowRight") next();
    if (e.key === "ArrowLeft") back();
  });

})();
</script>
</body>
</html>
